<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <p>Rock Paper Scissors</p>
        <button onclick="playGame('Rock');">Rock</button>

        <button onclick="playGame('Paper');">Paper</button>

        <button onclick="playGame('Scissors');">Scissors</button>

        <button onclick="score.wins=0;score.losses=0;score.ties=0;
        localStorage.removeItem('score');
        updateScoreElement();">Reset Score</button>

        <p class="js-result"></p>
        <p class="js-moves"></p>
        <p class="js-score"></p>
        <script>
            /*const score={
                wins:0,
                losses:0,
                ties:0
            };*/

            let score=JSON.parse(localStorage.getItem('score')) ||{
            wins:0,
            losses:0,
            ties:0
            };

            updateScoreElement();
            
            /*
            if(!score){
                score={
                    wins:0,
                    losses:0,
                    ties:0
                };
            }*/
            /*console.log(JSON.parse(localStorage.getItem('score')));*/

            function playGame(playerMove){
                const Computermove=pickComputerMove();
                let result='';

                if (playerMove=='Rock'){
                    if(Computermove==='rock')
                    {
                        result='Tie.';
                    }
                    else if (Computermove=='paper'){
                        result='You lose.';
                    }
                    else if(Computermove=='scissors'){
                        result='you win.';
                    }
                    }

                else if (playerMove=='Paper'){
                    if(Computermove==='paper')
                    {
                        result='Tie.';
                    }
                    else if (Computermove=='rock'){
                        result='you win.';
                    }
                    else if(Computermove=='scissors'){
                        result='You lose.';
                    }
                }

                else if(playerMove=='Scissors'){
                    if(Computermove==='scissors')
                    {
                        result='Tie.';
                    }
                    else if (Computermove=='rock'){
                        result='You lose.';
                    }
                    else if(Computermove=='paper'){
                        result='you win.';
                    }
                }

                if(result==='you win.'){
                    score.wins+=1;
                }
                else if(result==='You lose.'){
                    score.losses+=1;
                }
                else if(result==='Tie.'){
                    score.ties+=1;
                }

            localStorage.setItem('score', JSON.stringify(score));

            updateScoreElement();

            document.querySelector('.js-result').innerHTML=result;
            document.querySelector('.js-moves').innerHTML=` You ${playerMove} - ${Computermove} Computer`;
                    
            }

            function updateScoreElement(){
                document.querySelector('.js-score').innerHTML=
                `Wins: ${score.wins}, Losses:${score.losses}, Ties:${score.ties}`;
            }
            function pickComputerMove(){
            const randomNumber=Math.random();
            let Computermove=' ';
            if(randomNumber>=0 && randomNumber<1/3){
                Computermove='rock';
            }
            else if (randomNumber>=1/3 && randomNumber<2/3)
            {
                Computermove='paper';
            }
            else if (randomNumber>2/3 && randomNumber<1){
                Computermove='scissors';
            }
            return Computermove;
            }
    </script>

    </body>
</html>